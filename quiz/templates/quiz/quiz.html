{% extends 'main.html' %} {% load static %} {% block content %}
<section class="flex flex-1 h-screen bg-gray-800">
  <div class="hidden sm:block ">
    {% include "courseComponent_test.html" %}
  </div>

  <div class="bg-gray-900 md:flex md:w-full md:w-[calc(2/3*100vw)] md:flex-col w-screen rounded-lg h-screen overflow-hidden">
    <div class="flex h-full w-full flex-1 items-start border-white/20">
      <nav class="flex h-full flex-1 flex-col space-y-1 p-2">
        <div class="flex-1">
          <div class="flex p-3 gap-3 sm:mr-auto rounded-md bg-gray-500/10 transition-colors duration-200 text-white 
            text-3xl font-extrabold flex-shrink-0 border-white/20 border-b">
            <button id="toggleSidebarBtn" class="md:hidden">
              <?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
              <svg class="bg-white"fill="#000000" xmlns="http://www.w3.org/2000/svg" 
                width="24px" height="24px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve">
              <path d="M78,36H38c-1.1,0-2-0.9-2-2v-4c0-1.1,0.9-2,2-2H78c1.1,0,2,0.9,2,2v4C80,35.1,79.1,36,78,36z"/>
              <path d="M78,54H38c-1.1,0-2-0.9-2-2v-4c0-1.1,0.9-2,2-2H78c1.1,0,2,0.9,2,2v4C80,53.1,79.1,54,78,54z"/>
              <path d="M26,54h-4c-1.1,0-2-0.9-2-2v-4c0-1.1,0.9-2,2-2h4c1.1,0,2,0.9,2,2v4C28,53.1,27.1,54,26,54z"/>
              <path d="M26,36h-4c-1.1,0-2-0.9-2-2v-4c0-1.1,0.9-2,2-2h4c1.1,0,2,0.9,2,2v4C28,35.1,27.1,36,26,36z"/>
              <path d="M26,72h-4c-1.1,0-2-0.9-2-2v-4c0-1.1,0.9-2,2-2h4c1.1,0,2,0.9,2,2v4C28,71.1,27.1,72,26,72z"/>
              <path d="M78,72H38c-1.1,0-2-0.9-2-2v-4c0-1.1,0.9-2,2-2H78c1.1,0,2,0.9,2,2v4C80,71.1,79.1,72,78,72z"/>
              </svg>
            </button>
            <h2 class="">ASSESSMENT</h2>
          </div>
        </div>

        <div class="overflow-y-auto h-screen flex-grow">
          <div
            class="p-4 text-white flex-col flex-1 overflow-y-auto border-b border-white/20"
          >
            <div id="quiz_start" class="flex flex-1 flex-col p-8">
              <div class="flex items-center justify-between mb-8">
                <div class="flex-grow">
                  <h2 class="text-white">{{ quiz }}</h2>
                  <p class="text-gray-300">
                    Score to pass: {{ quiz.required_score_to_pass }}%
                  </p>
                </div>

                <div
                  class="col justify-center bg-gray-600 rounded-md shadow-md p-4"
                  id="timer-box"
                >
                  <!-- Countdown -->
                  <span class="text-white text-xl font-bold">00:00</span>
                </div>
              </div>

              <div>
                <form id="quiz-form">
                  {% csrf_token %}
                  <div id="quiz-box" class="p-4"></div>
                  <button
                    type="submit"
                    class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600"
                  >
                    Submit
                  </button>
                </form>
              </div>

              <div class="p-4">
                <!-- Score Box -->
                <div id="score-box">
                  <!-- Placeholder for displaying score -->
                </div>

                {% if all_quizzes_completed %}
                <div id="survey-link">
                  <a href="" class="text-blue-500">Take our survey</a>
                </div>
                {% endif %}

                <!-- Result Box -->
                <div id="result-box">
                  <!-- Placeholder for displaying results -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
      const toggleSidebarBtn = document.getElementById('toggleSidebarBtn');
      const sidebar = document.querySelector('.hidden');

      toggleSidebarBtn.addEventListener('click', function() {
          sidebar.classList.toggle('hidden');

      });
  });

  </script>
{% endblock content %}
